<!DOCTYPE html>
<html>
    <head></head>
    <link rel="stylesheet" href="index.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" type="text/javascript"></script>
    <script type="text/javascript">
        let cart;
        $(document).ready(function(){
            const queryString = window.location.search;
            const urlParams = new URLSearchParams(queryString);
            const total = urlParams.get('total')
            $(".total").append(`<h3>Total: ${total}</h3>`)
        })
        
        function redirect(){
            window.location.href="/"
        }
        
        function book(){
              // email regex
              let regex = /\S+@\S+\.\S+/;
              let email = document.getElementById("email").value
              if(regex.test(email)){
                alert("Purchase is Successful!")
                // reload page
                window.location.href="/"
                window.localStorage.clear();
              } else{
                alert("Invalid email!")
              }
        }
    </script>
    <body>
        <!--Header-->
        <div class="header center">
            <h1>Car Rental Center</h1>
        </div>
        <!--Main-->
        <h3 class="center">Check Out</h3>
        <form onSubmit="book(); return false;">
            <p>Customer Details and Payment</p>
            <div style="display:flex;">
                <p>Please fill in your details.</p>
                <p style="color:red;">&nbsp;*&nbsp;</p>
                <p>indicates required field.</p>
            </div>
            <div class="checkout-form">
                <div>
                    <label for="fname" class="required"><i class="fa fa-user"></i> First Name</label>
                    <input type="text" id="fname" name="firstname" placeholder="Luke" required>
                </div>
                <div>
                    <label for="fname" class="required"><i class="fa fa-user"></i> Last Name</label>
                    <input type="text" id="lname" name="lastname" placeholder="Skywalker" required>
                </div>
                <div>
                    <label for="email" class="required"><i class="fa fa-envelope"></i> Email</label>
                    <input type="email" id="email" name="email" placeholder="skywalker@falcon.com" required>
                </div>
                <div>
                    <label for="adr1" class="required"><i class="fa fa-address-card-o"></i> Address Line 1</label>
                    <input type="text" id="adr1" name="address" placeholder="34 Mulholland St" required>
                </div>
                <div>
                    <label for="adr2" class="required"><i class="fa fa-address-card-o"></i> Address Line 2</label>
                    <input type="text" id="adr2" name="address" placeholder="Mickson" required>
                </div>
                <div>
                    <label for="city" class="required"><i class="fa fa-institution"></i> City</label>
                    <input type="text" id="city" name="city" placeholder="Sydney" required>
                </div>
                <div>
                    <label for="state" class="required">State</label>
                    <select name="state" id="state">
                      <option value="nsw">NSW</option>
                      <option value="qld">Queensland</option>
                      <option value="sa">South Australia</option>
                      <option value="tas">Tasmania</option>
                      <option value="vic">Victoria</option>
                      <option value="wa">Western Australia</option>
                    </select>
                </div>
                <div>
                    <label for="zip" class="required">Post Code</label>
                    <input type="text" id="zip" name="zip" placeholder="2032" required>
                </div>
                <div>
                    <label for="state" class="required">Payment Type</label>
                    <select name="state" id="state">
                      <option value="visa">Visa</option>
                      <option value="mastercard">Mastercard</option>
                      <option value="amex">AMEX</option>
                    </select>
                </div>
            </div>
            
            <div class="total"></div>
            <div>
               <button onClick="redirect()">Rent more</button>
               <input type="submit" value="Book" class="btn">
            </div>
        </form>
    </body>
</html>